import{m as L,ag as y,R as N,ah as b,T as k,ai as v,z as _,q as A,v as D,A as d,S as O,aj as V,ak as M,O as C,x as H,al as Y,C as z,p as W,h as g,E as $,a as j,e as q}from"./runtime.hw1gYPOh.js";import{a as B,r as R,h}from"./events.HokLCJDe.js";import{r as G,b as P}from"./disclose-version.Cx_FTkit.js";function ee(e){return e.endsWith("capture")&&e!=="gotpointercapture"&&e!=="lostpointercapture"}const U=["beforeinput","click","change","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"];function te(e){return U.includes(e)}const x={formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly"};function re(e){return e=e.toLowerCase(),x[e]??e}const F=["touchstart","touchmove"];function J(e){return F.includes(e)}function ae(e,t){t!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=t,e.nodeValue=t==null?"":t+"")}function K(e,t){const o=t.anchor??t.target.appendChild(L());return S(e,{...t,anchor:o})}function ne(e,t){y(),t.intro=t.intro??!1;const o=t.target,c=g,f=d;try{for(var r=N(o);r&&(r.nodeType!==8||r.data!==b);)r=k(r);if(!r)throw v;_(!0),A(r),D();const u=S(e,{...t,anchor:r});if(d===null||d.nodeType!==8||d.data!==O)throw V(),v;return _(!1),u}catch(u){if(u===v)return t.recover===!1&&M(),y(),C(o),_(!1),K(e,t);throw u}finally{_(c),A(f),G()}}const i=new Map;function S(e,{target:t,anchor:o,props:c={},events:f,context:r,intro:u=!0}){y();var p=new Set,m=a=>{for(var s=0;s<a.length;s++){var n=a[s];if(!p.has(n)){p.add(n);var T=J(n);t.addEventListener(n,h,{passive:T});var w=i.get(n);w===void 0?(document.addEventListener(n,h,{passive:T}),i.set(n,1)):i.set(n,w+1)}}};m(H(B)),R.add(m);var l=void 0,I=Y(()=>(z(()=>{if(r){W({});var a=q;a.c=r}f&&(c.$$events=f),g&&P(o,null),l=e(o,c)||{},g&&($.nodes_end=d),r&&j()}),()=>{for(var a of p){t.removeEventListener(a,h);var s=i.get(a);--s===0?(document.removeEventListener(a,h),i.delete(a)):i.set(a,s)}R.delete(m),E.delete(l)}));return E.set(l,I),l}let E=new WeakMap;function oe(e){const t=E.get(e);t&&t()}export{te as a,ne as h,ee as i,K as m,re as n,ae as s,oe as u};
