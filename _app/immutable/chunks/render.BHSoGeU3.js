import{d as k,ag as y,J as D,ah as I,L as N,ai as g,m as _,g as A,i as O,o as d,K as V,aj as M,ak as H,D as Y,k as C,al as W,u as $,p as j,h as v,w as z,a as B,O as G}from"./runtime.CG4-oO5L.js";import{a as J,r as L,h}from"./events.2Mc6L6Su.js";import{r as K,b as P}from"./disclose-version.MfCLdoVM.js";function te(e){return e.endsWith("capture")&&e!=="gotpointercapture"&&e!=="lostpointercapture"}const U=["beforeinput","click","change","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"];function re(e){return U.includes(e)}const q={formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly"};function ae(e){return e=e.toLowerCase(),q[e]??e}const F=["touchstart","touchmove"];function Q(e){return F.includes(e)}let R=!0;function ne(e,t){t!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=t,e.nodeValue=t==null?"":t+"")}function X(e,t){const o=t.anchor??t.target.appendChild(k());return S(e,{...t,anchor:o})}function oe(e,t){y(),t.intro=t.intro??!1;const o=t.target,c=v,l=d;try{for(var r=D(o);r&&(r.nodeType!==8||r.data!==I);)r=N(r);if(!r)throw g;_(!0),A(r),O();const s=S(e,{...t,anchor:r});if(d===null||d.nodeType!==8||d.data!==V)throw M(),g;return _(!1),s}catch(s){if(s===g)return t.recover===!1&&H(),y(),Y(o),_(!1),X(e,t);throw s}finally{_(c),A(l),K()}}const u=new Map;function S(e,{target:t,anchor:o,props:c={},events:l,context:r,intro:s=!0}){y();var p=new Set,m=a=>{for(var i=0;i<a.length;i++){var n=a[i];if(!p.has(n)){p.add(n);var w=Q(n);t.addEventListener(n,h,{passive:w});var T=u.get(n);T===void 0?(document.addEventListener(n,h,{passive:w}),u.set(n,1)):u.set(n,T+1)}}};m(C(J)),L.add(m);var f=void 0,b=W(()=>($(()=>{if(r){j({});var a=G;a.c=r}l&&(c.$$events=l),v&&P(o,null),R=s,f=e(o,c)||{},R=!0,v&&(z.nodes_end=d),r&&B()}),()=>{for(var a of p){t.removeEventListener(a,h);var i=u.get(a);--i===0?(document.removeEventListener(a,h),u.delete(a)):u.set(a,i)}L.delete(m),E.delete(f)}));return E.set(f,b),f}let E=new WeakMap;function se(e){const t=E.get(e);t&&t()}export{re as a,R as b,oe as h,te as i,X as m,ae as n,ne as s,se as u};
