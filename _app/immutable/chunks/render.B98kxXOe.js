import{B as I,ag as v,S as L,ah as N,U as b,ai as y,w as _,v as A,o as k,A as d,T as V,aj as O,ak as M,P as H,D as Y,al as B,y as C,p as P,m as g,F as U,a as W,e as $}from"./runtime.CNzaJDob.js";import{a as j,r as S,h}from"./events.DmRyuL-I.js";import{r as z,b as F}from"./disclose-version.CwBMyi3e.js";function ee(e){return e.endsWith("capture")&&e!=="gotpointercapture"&&e!=="lostpointercapture"}const G=["beforeinput","click","change","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"];function te(e){return G.includes(e)}const q={formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly"};function re(e){return e=e.toLowerCase(),q[e]??e}const J=["touchstart","touchmove"];function K(e){return J.includes(e)}function ae(e,t){t!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=t,e.nodeValue=t==null?"":t+"")}function Q(e,t){const o=t.anchor??t.target.appendChild(I());return R(e,{...t,anchor:o})}function ne(e,t){v(),t.intro=t.intro??!1;const o=t.target,c=g,f=d;try{for(var r=L(o);r&&(r.nodeType!==8||r.data!==N);)r=b(r);if(!r)throw y;_(!0),A(r),k();const u=R(e,{...t,anchor:r});if(d===null||d.nodeType!==8||d.data!==V)throw O(),y;return _(!1),u}catch(u){if(u===y)return t.recover===!1&&M(),v(),H(o),_(!1),Q(e,t);throw u}finally{_(c),A(f),z()}}const i=new Map;function R(e,{target:t,anchor:o,props:c={},events:f,context:r,intro:u=!0}){v();var p=new Set,m=a=>{for(var s=0;s<a.length;s++){var n=a[s];if(!p.has(n)){p.add(n);var T=K(n);t.addEventListener(n,h,{passive:T});var w=i.get(n);w===void 0?(document.addEventListener(n,h,{passive:T}),i.set(n,1)):i.set(n,w+1)}}};m(Y(j)),S.add(m);var l=void 0,D=B(()=>(C(()=>{if(r){P({});var a=$;a.c=r}f&&(c.$$events=f),g&&F(o,null),l=e(o,c)||{},g&&(U.nodes_end=d),r&&W()}),()=>{for(var a of p){t.removeEventListener(a,h);var s=i.get(a);--s===0?(document.removeEventListener(a,h),i.delete(a)):i.set(a,s)}S.delete(m),E.delete(l)}));return E.set(l,D),l}let E=new WeakMap;function oe(e){const t=E.get(e);t&&t()}export{te as a,ne as h,ee as i,Q as m,re as n,ae as s,oe as u};
